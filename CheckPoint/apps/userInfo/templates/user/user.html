{% extends 'base.html' %}
{% block title %}User{% endblock %}
{% block content %}
        {% load static %}
        <link rel="stylesheet" type="text/css" href="{% static 'css/userInfoStyle.css' %}" />
        <!--Checks if there is a userobject in user -->
        {% if user %}
            <h2>{{user.username}}'s information </h2>
            <div id="userInfoDisplay">
              <!--If there is, show the information-->
                <p><b>Username:</b> {{user.username}}</p>
                <p><b>Email:</b> {{user.email}} </p>
                <p><b>Name:</b> {{user.first_name}} {{user.last_name}} </p>
                <p><b>Role:</b> {{user.customuser.role}} </p>
            </div>
            {{info_message}}
            <form method="POST" action="/user/edit/" name="update_info_form" class="updateInfoClass" />
              <!--csrf token to stop csrf attacks-->
              {% csrf_token %}
              {{ form.as_p }}
                <!--Giving the post request the name update_info so we can differ the forms-->
              <button class="acceptButton" type="submit" name="update_info">Update</button>
            </form>
            <form method="POST" action="/user/edit/" name="change_password_form" class="changePasswordClass" />
              <!--csrf token to stop csrf attacks-->
              {% csrf_token %}
              {{ change_password_form.as_p }}
              <!--Giving the post request the name change_password so we can differ the forms-->
              <button class="acceptButton" type="submit" name="change_password">Change Password</button>
            </form>
        <!--If there is no object, tell the user-->
        {% else %}
            <strong>You are not loged in</strong>
        {% endif %}
{% endblock %}
